<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baseball Stats Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âš¾</text></svg>">
</head>
<body>
    <header class="dashboard-header">
        <h1>Baseball Analytics Dashboard</h1>
        <div class="global-filters">
            <div class="filter-container">
                <label for="year-filter">Year:</label>
                <select id="year-filter"></select>
            </div>
        </div>
    </header>

    <div class="dashboard-container">
        <!-- Position Filter Pane -->
        <div id="pane-tl" class="dashboard-pane">
            <div class="pane-header">
                <h3 class="pane-title">Position Filter</h3>
            </div>
            <div id="chart-field" class="chart-container position-filter-container"></div>
            <!-- Handedness Filter (options only) -->
            <div class="handedness-filter-container">
                <h4 class="filter-section-title">Batting Handedness</h4>
                <div class="handedness-options">
                    <div class="handedness-option left" data-handedness="L">
                        <span class="handedness-option-color color-left"></span>Left (L)
                    </div>
                    <div class="handedness-option right" data-handedness="R">
                        <span class="handedness-option-color color-right"></span>Right (R)
                    </div>
                    <div class="handedness-option both" data-handedness="B">
                        <span class="handedness-option-color color-both"></span>Switch (B)
                    </div>
                </div>
                <button id="clear-handedness" class="clear-filter-btn">Clear Handedness</button>
            </div>
        </div>

        <!-- Home Runs Chart -->
        <div id="pane-tr" class="dashboard-pane">
            <div class="pane-header">
                <h3 class="pane-title">Player Home Runs</h3>
            </div>
            <div id="chart-bar" class="chart-container"></div>
        </div>

        <!-- Position Stats Chart -->
        <div id="pane-bl" class="dashboard-pane">
            <div class="pane-header">
                <h3 class="pane-title">Position Performance</h3>
                <div id="position-stats-toggle" class="toggle-container">
                    <span class="toggle-label">Select Stat:</span>
                    <select id="position-stat-select">
                        <option value="ops">OPS</option>
                        <option value="batting_avg">Batting Avg</option>
                        <option value="slg">SLG</option>
                        <option value="obp">OBP</option>
                        <option value="woba">wOBA</option>
                        <option value="bb_percent">BB%</option>
                        <option value="k_percent">K%</option>
                        <option value="hr">HR</option>
                    </select>
                </div>
            </div>
            <div id="chart-position-stats" class="chart-container"></div>
        </div>

        <!-- Player Attributes Parallel Coords -->
        <div id="pane-br" class="dashboard-pane">
            <div class="pane-header">
                <h3 class="pane-title">Player Attributes Comparison</h3>
                <div class="pcp-controls">
                    <button id="toggle-pcp-mode" class="mode-toggle">
                        <span class="mode-text">Brushing Mode</span>
                    </button>
                </div>
            </div>
            <div id="chart-parallel-coords" class="chart-container"></div>
        </div>
    </div>

    <!-- React for Position Filter -->
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>

    <!-- D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <!-- Dashboard JavaScript -->
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>